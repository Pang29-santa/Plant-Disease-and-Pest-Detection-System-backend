# ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏à‡∏≥‡πÅ‡∏ô‡∏Å‡πÅ‡∏°‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏£‡∏Ñ (Backend-Only Solutions)

## üî¥ ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å

‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÄ‡∏î‡∏¥‡∏°‡∏ñ‡∏π‡∏Å‡∏ù‡∏∂‡∏Å‡∏î‡πâ‡∏ß‡∏¢ 3 classes:
- `mosaic` (‡πÇ‡∏£‡∏Ñ‡πÉ‡∏ö‡∏î‡πà‡∏≤‡∏á)
- `powdery` (‡πÇ‡∏£‡∏Ñ‡∏£‡∏≤‡πÅ‡∏õ‡πâ‡∏á)
- `healthy` (‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏î‡∏µ)

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:** ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏à‡∏≠‡πÅ‡∏°‡∏•‡∏á ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏à‡∏∞ **force fit** ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô 1 ‡πÉ‡∏ô 3 classes ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "insect" ‡∏´‡∏£‡∏∑‡∏≠ "unknown"

---

## ‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ Backend (6 ‡∏Ç‡πâ‡∏≠)

### 1Ô∏è‚É£ Confidence Threshold Filtering

**‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£:** ‡∏ñ‡πâ‡∏≤‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÑ‡∏°‡πà‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à (softmax < 0.6) ‡πÉ‡∏´‡πâ‡∏ï‡∏≠‡∏ö "uncertain"

```python
if max_probability < 0.60:
    return {
        'prediction': 'uncertain',
        'message': '‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÑ‡∏°‡πà‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à ‡∏≠‡∏≤‡∏à‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏°‡∏•‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏†‡∏≤‡∏û‡πÑ‡∏°‡πà‡∏ä‡∏±‡∏î'
    }
```

**‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:** ‡∏á‡πà‡∏≤‡∏¢ ‡πÄ‡∏£‡πá‡∏ß ‡πÑ‡∏°‡πà false positive
**‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢:** ‡∏≠‡∏≤‡∏à reject ‡πÇ‡∏£‡∏Ñ‡∏à‡∏£‡∏¥‡∏á‡∏ó‡∏µ‡πà‡∏†‡∏≤‡∏û‡πÑ‡∏°‡πà‡∏ä‡∏±‡∏î

---

### 2Ô∏è‚É£ Top-2 Probability Comparison

**‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£:** ‡∏ñ‡πâ‡∏≤‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 1 ‡πÅ‡∏•‡∏∞ 2 ‡πÉ‡∏Å‡∏•‡πâ‡∏Å‡∏±‡∏ô (< 0.15) ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏™‡∏±‡∏ö‡∏™‡∏ô

```python
gap = prob_top1 - prob_top2
if gap < 0.15:
    return {
        'prediction': 'possible_insect_or_unknown',
        'reason': '‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏™‡∏±‡∏ö‡∏™‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏™‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å'
    }
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏£‡∏ì‡∏µ‡πÅ‡∏°‡∏•‡∏á:**
- Top-1: mosaic (0.45)
- Top-2: healthy (0.40)
- Gap = 0.05 < 0.15 ‚Üí **‡∏™‡∏±‡∏ö‡∏™‡∏ô** ‚Üí ‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏°‡∏•‡∏á

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏£‡∏ì‡∏µ‡πÇ‡∏£‡∏Ñ‡∏à‡∏£‡∏¥‡∏á:**
- Top-1: powdery (0.85)
- Top-2: healthy (0.10)
- Gap = 0.75 > 0.15 ‚Üí **‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô**

---

### 3Ô∏è‚É£ Rule-Based Filtering (Visual Analysis)

**‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£:** ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏†‡∏≤‡∏û‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏î‡πâ‡∏ß‡∏¢ OpenCV

#### 3.1 ‡∏Ç‡∏ô‡∏≤‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥
```python
if lesion_area < 2% of image:
    # ‡∏≠‡∏≤‡∏à‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏°‡∏•‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡πá‡∏Å ‡∏´‡∏£‡∏∑‡∏≠ healthy
    flag_as_suspicious()
```

#### 3.2 ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏à‡∏∏‡∏î‡πÅ‡∏•‡∏∞‡∏Ç‡∏ô‡∏≤‡∏î
```python
if num_spots > 50 and avg_spot_size < 200 pixels:
    # ‡∏à‡∏∏‡∏î‡πÄ‡∏•‡πá‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏≠‡∏¢‡∏Å‡∏±‡∏î‡πÅ‡∏°‡∏•‡∏á
    override_to_insect_suspect()
```

#### 3.3 ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢
```python
if spots_are_scattered and small:
    # ‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏™‡∏∏‡πà‡∏° ‚Üí ‡∏≠‡∏≤‡∏à‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏°‡∏•‡∏á‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà
    increase_uncertainty()
```

**Visual Cues ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÅ‡∏¢‡∏Å:**

| ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞ | ‡πÇ‡∏£‡∏Ñ‡∏û‡∏∑‡∏ä | ‡πÅ‡∏°‡∏•‡∏á |
|--------|--------|------|
| ‡∏Ç‡∏ô‡∏≤‡∏î‡∏à‡∏∏‡∏î | ‡πÉ‡∏´‡∏ç‡πà ‡∏Å‡∏•‡∏°‡∏ä‡∏±‡∏î | ‡πÄ‡∏•‡πá‡∏Å ‡πÑ‡∏°‡πà‡∏™‡∏°‡∏°‡∏≤‡∏ï‡∏£ |
| ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô | ‡∏ô‡πâ‡∏≠‡∏¢-‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á | ‡∏°‡∏≤‡∏Å (‡∏£‡∏≠‡∏¢‡∏Å‡∏±‡∏î) |
| ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢ | ‡∏ï‡∏≤‡∏°‡πÄ‡∏™‡πâ‡∏ô‡πÉ‡∏ö | ‡∏™‡∏∏‡πà‡∏°‡∏ó‡∏±‡πà‡∏ß‡πÉ‡∏ö |
| ‡∏™‡∏µ | ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•/‡∏Ç‡∏≤‡∏ß/‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á | ‡∏£‡∏π‡πÄ‡∏õ‡∏•‡πà‡∏≤/‡∏Ç‡∏≠‡∏ö‡πÑ‡∏´‡∏°‡πâ |

---

### 4Ô∏è‚É£ Preprocessing

**‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£:** ‡∏õ‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏û‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ï‡∏≠‡∏ô‡πÄ‡∏ó‡∏£‡∏ô + ‡∏ä‡πà‡∏ß‡∏¢‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÄ‡∏´‡πá‡∏ô‡∏ä‡∏±‡∏î‡∏Ç‡∏∂‡πâ‡∏ô

```python
def preprocess(image_path):
    # 1. ‡∏≠‡πà‡∏≤‡∏ô‡∏†‡∏≤‡∏û
    img = cv2.imread(image_path)
    img = cv2.cvtColor(img, cv2.COLOR_BGR2RGB)
    
    # 2. Auto brightness/contrast (CLAHE)
    lab = cv2.cvtColor(img, cv2.COLOR_RGB2LAB)
    l, a, b = cv2.split(lab)
    clahe = cv2.createCLAHE(clipLimit=2.0, tileGridSize=(8,8))
    l = clahe.apply(l)
    img = cv2.cvtColor(cv2.merge([l,a,b]), cv2.COLOR_LAB2RGB)
    
    # 3. Resize ‡∏ï‡∏≤‡∏°‡∏Ç‡∏ô‡∏≤‡∏î train
    img = cv2.resize(img, (224, 224))
    
    # 4. Normalize (‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ï‡∏≠‡∏ô train)
    img = img / 255.0  # ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ preprocess_input
    
    return img
```

**‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á CLAHE?**
- ‡∏ä‡πà‡∏ß‡∏¢‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏á‡πÑ‡∏°‡πà‡∏î‡∏µ
- ‡πÄ‡∏ô‡πâ‡∏ô‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ö‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ú‡∏¥‡∏ß‡πÉ‡∏ö
- ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å dataset

---

### 5Ô∏è‚É£ Post-Processing Layer

**‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£:** Override ‡∏ú‡∏•‡∏ï‡∏≤‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç

```python
def post_process(prediction, confidence, visual_features):
    # ‡∏Å‡∏é‡∏ó‡∏µ‡πà 1: Confidence ‡∏ï‡πà‡∏≥ ‚Üí Healthy
    if confidence < 0.40:
        return 'healthy', 'confidence_too_low'
    
    # ‡∏Å‡∏é‡∏ó‡∏µ‡πà 2: ‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏£‡∏Ñ‡πÅ‡∏ï‡πà‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÅ‡∏°‡∏•‡∏á ‚Üí Unknown
    if prediction in ['mosaic', 'powdery'] and visual_features['suspicious_insect']:
        return 'unknown', 'visual_mismatch'
    
    # ‡∏Å‡∏é‡∏ó‡∏µ‡πà 3: ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏ô‡πâ‡∏≠‡∏¢ ‚Üí Healthy
    if prediction != 'healthy' and visual_features['lesion_area'] < 0.02:
        return 'healthy', 'too_small_area'
    
    return prediction, 'original'
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Override:**
- ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏ö‡∏≠‡∏Å `powdery` (0.45) ‚Üí Override ‡πÄ‡∏õ‡πá‡∏ô `unknown` ‚Üí ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏ñ‡πà‡∏≤‡∏¢‡πÉ‡∏´‡∏°‡πà
- ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏ö‡∏≠‡∏Å `mosaic` (0.35) ‚Üí Override ‡πÄ‡∏õ‡πá‡∏ô `healthy` ‚Üí ‡∏ö‡∏≤‡∏á‡∏ó‡∏µ‡πÅ‡∏Ñ‡πà‡πÉ‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏ß‡∏¢

---

### 6Ô∏è‚É£ ‡∏ú‡∏™‡∏°‡∏ó‡∏∏‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ (Recommended)

```python
class IntegratedFilter:
    def predict(self, image_path):
        # 1. Preprocess
        img = self.preprocess(image_path)
        
        # 2. Model inference
        probs = self.model.predict(img)[0]
        
        # 3. Statistical filtering
        if max(probs) < 0.60:
            return self.uncertain_response()
        
        if top1_prob - top2_prob < 0.15:
            return self.confused_response()
        
        # 4. Visual filtering
        features = self.analyze_visual(image_path)
        if features['suspicious_insect']:
            return self.insect_suspect_response()
        
        # 5. Return confident result
        return self.success_response()
```

---

## üìä Flowchart ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à

```
‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
   ‚Üì
‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û ‚Üí Preprocess (CLAHE, Resize)
   ‚Üì
Model Prediction (Softmax)
   ‚Üì
‚îú‚îÄ Max < 0.60? ‚Üí "Uncertain" ‚ùå
‚îú‚îÄ Top1 - Top2 < 0.15? ‚Üí "Possible Insect" ‚ö†Ô∏è
‚îú‚îÄ Visual: ‡∏à‡∏∏‡∏î‡πÄ‡∏•‡πá‡∏Å>50? ‚Üí "Suspect Insect" üêõ
‚îú‚îÄ Visual: ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà<2%? ‚Üí "Healthy" ‚úÖ
‚îî‚îÄ ‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠ ‚Üí "Prediction" ‚úì
```

---

## ‚ö†Ô∏è ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ç‡∏≠‡∏á Backend-Only Solutions

### 1. ‡πÑ‡∏°‡πà‡πÅ‡∏Å‡πâ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏ô‡πÄ‡∏´‡∏ï‡∏∏
- ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏¢‡∏±‡∏á‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏∑‡∏≠ 1 ‡πÉ‡∏ô 3 classes
- ‡πÅ‡∏Ñ‡πà "‡∏ã‡πà‡∏≠‡∏ô" ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ user ‡πÄ‡∏´‡πá‡∏ô

### 2. False Negative ‡∏™‡∏π‡∏á
- ‡∏≠‡∏≤‡∏à reject ‡πÇ‡∏£‡∏Ñ‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡∏ó‡∏µ‡πà‡∏†‡∏≤‡∏û‡πÑ‡∏°‡πà‡∏î‡∏µ
- ‡∏Ç‡∏≤‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡πÉ‡∏ô edge cases

### 3. Maintenance ‡∏¢‡∏≤‡∏Å
- ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö threshold ‡∏ö‡πà‡∏≠‡∏¢
- ‡∏Å‡∏é‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏à‡∏≠ case ‡πÉ‡∏´‡∏°‡πà

### 4. ‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Classes ‡πÉ‡∏´‡∏°‡πà
- ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å "insect" ‡∏à‡∏£‡∏¥‡∏á‡πÜ
- ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏≠‡∏Å‡∏ä‡∏ô‡∏¥‡∏î‡πÅ‡∏°‡∏•‡∏á‡πÑ‡∏î‡πâ

### 5. Inconsistent
- ‡∏†‡∏≤‡∏û‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô preprocess ‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô ‚Üí ‡∏ú‡∏•‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô
- ‡∏≠‡∏≤‡∏à‡∏™‡∏£‡πâ‡∏≤‡∏á confusion ‡πÉ‡∏´‡πâ user

---

## üü¢ ‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà Backend Solutions ‡∏û‡∏≠‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ

‚úÖ **‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏ñ‡πâ‡∏≤:**
1. ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ deploy ‡∏î‡πà‡∏ß‡∏ô ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏ß‡∏•‡∏≤ retrain
2. ‡πÅ‡∏°‡∏•‡∏á‡∏û‡∏ö‡πÑ‡∏°‡πà‡∏ö‡πà‡∏≠‡∏¢ (< 10% ‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)
3. ‡∏°‡∏µ‡∏Ñ‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡πÄ‡∏™‡∏°‡∏≠ (human-in-the-loop)
4. ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ‡∏Å‡∏±‡∏ö "uncertain" ‡∏ö‡πà‡∏≠‡∏¢‡πÜ
5. ‡πÄ‡∏õ‡πá‡∏ô MVP / Prototype

---

## üî¥ ‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£ Retrain ‡∏à‡∏£‡∏¥‡∏á ‡πÜ

**‡∏Ñ‡∏ß‡∏£ Retrain ‡πÄ‡∏°‡∏∑‡πà‡∏≠:**

### 1. ‡πÅ‡∏°‡∏•‡∏á‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢
- > 20% ‡∏Ç‡∏≠‡∏á‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏°‡∏•‡∏á
- ‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏ö‡πà‡∏≠‡∏¢‡∏à‡∏ô‡πÄ‡∏™‡∏µ‡∏¢ credibility

### 2. ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ö‡∏≠‡∏Å‡∏ä‡∏ô‡∏¥‡∏î‡πÅ‡∏°‡∏•‡∏á
- ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÅ‡∏Ñ‡πà reject ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ö‡∏≠‡∏Å "‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏û‡∏•‡∏µ‡πâ‡∏¢‡πÑ‡∏ü"
- ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ä‡∏ô‡∏¥‡∏î

### 3. Accuracy ‡∏ï‡πà‡∏≥‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ
- Backend filter ‡∏ó‡∏≥‡πÉ‡∏´‡πâ > 30% ‡πÄ‡∏õ‡πá‡∏ô "uncertain"
- User ‡∏ö‡πà‡∏ô‡∏ß‡πà‡∏≤ "‡πÉ‡∏ä‡πâ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ" ‡∏ö‡πà‡∏≠‡∏¢

### 4. ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠
- ‡∏°‡∏µ‡∏£‡∏π‡∏õ‡πÅ‡∏°‡∏•‡∏á > 500 ‡∏£‡∏π‡∏õ
- ‡∏°‡∏µ‡∏£‡∏π‡∏õ unknown/noise > 200 ‡∏£‡∏π‡∏õ

### 5. ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ Scale
- ‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô production
- ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡πÅ‡∏•‡πâ‡∏ß

---

## üéØ ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á Retrain ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

### ‡πÄ‡∏û‡∏¥‡πà‡∏° Classes ‡πÉ‡∏´‡∏°‡πà:
```python
# Classes ‡πÉ‡∏´‡∏°‡πà
classes = [
    'mosaic', 
    'powdery', 
    'healthy',
    'insect_damage',      # ‡∏£‡∏ß‡∏°‡∏£‡∏≠‡∏¢‡∏Å‡∏±‡∏î‡πÅ‡∏°‡∏•‡∏á‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ
    'aphid',              # ‡πÄ‡∏û‡∏•‡∏µ‡πâ‡∏¢ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)
    'leaf_miner',         # ‡∏´‡∏ô‡∏≠‡∏ô‡∏ä‡∏≠‡∏ô‡πÉ‡∏ö
    'unknown'             # ‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà
]
```

### Data Augmentation ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏°‡∏•‡∏á:
```python
# ‡πÅ‡∏°‡∏•‡∏á‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡∏Ç‡∏ô‡∏≤‡∏î ‡∏´‡∏•‡∏≤‡∏¢‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á
augmentation = A.Compose([
    A.RandomRotate90(p=0.5),
    A.Flip(p=0.5),
    A.RandomScale(scale_limit=0.5, p=0.5),  # ‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å
    A.RandomBrightnessContrast(p=0.3),
])
```

### Class Imbalance Handling:
```python
# ‡πÉ‡∏ä‡πâ Weighted Loss
class_weights = {
    'mosaic': 1.0,
    'powdery': 1.0,
    'healthy': 1.0,
    'insect_damage': 2.0,  # ‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô
    'unknown': 1.5
}
```

---

## üìù ‡∏™‡∏£‡∏∏‡∏õ

| ‡∏ß‡∏¥‡∏ò‡∏µ | ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ | ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢ | ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö |
|------|-------|---------|----------|
| **Backend Filter** | ‡πÄ‡∏£‡πá‡∏ß ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ó‡∏£‡∏ô | ‡πÑ‡∏°‡πà‡πÅ‡∏Å‡πâ‡∏ï‡πâ‡∏ô‡πÄ‡∏´‡∏ï‡∏∏ | ‡∏î‡πà‡∏ß‡∏ô / Prototype |
| **Retrain** | ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏à‡∏£‡∏¥‡∏á | ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ data | Production / Scale |

**‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:**
- ‡∏£‡∏∞‡∏¢‡∏∞‡∏™‡∏±‡πâ‡∏ô: ‡πÉ‡∏ä‡πâ Backend Filter ‡πÑ‡∏õ‡∏Å‡πà‡∏≠‡∏ô
- ‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß: Retrain ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏î‡πâ‡∏ß‡∏¢ classes ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô

**Hybrid Approach (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥):**
1. Deploy Backend Filter ‡∏Å‡πà‡∏≠‡∏ô (‡πÄ‡∏£‡πá‡∏ß)
2. ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å reject (uncertain, possible_insect)
3. ‡∏ô‡∏≥‡πÑ‡∏õ label ‡πÅ‡∏•‡∏∞ retrain
4. ‡∏Ñ‡πà‡∏≠‡∏¢‡πÜ ‡∏•‡∏î dependency ‡∏à‡∏≤‡∏Å backend filter
